<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Conoce el lenguaje R: desde los conceptos básicos al tratamiento de datos y gráficos</title>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/rutgers-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <link rel="stylesheet" href="css\custom_css.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Conoce el lenguaje R: desde los conceptos básicos al tratamiento de datos y gráficos
## Introducción al lenguaje R - Rscripts y Rmarkdown.
### Universidad de La Laguna

---






# Contenidos

.small[
* R Scripts
  + Ejecución del código
  + Secciones del código
* R Markdown
  + Ejemplo de documento
  + Crear un archivo Rmarkdown
  + Documento markdown
  + ¿Qué es markdown?
  + Sintaxis básica de markdown
  + Bloques de código R (chunks)
  + Opciones de bloques de código
  + Ejercicio
]


---
class: inverse right middle title-slide2

# R Scripts


---
# R Scripts: ejecución del código
* El archivo `R Script` es el tipo de fichero más habitual (con extensión .R) que se utiliza para escribir código en R

&lt;center&gt;
&lt;img src="img/Rstudio_script2.png" width="60%"  alt="R script"/&gt;
&lt;/center&gt;

* En los ficheros `R Script` se pueden ejecutar una o varias líneas de código haciendo click en el botón `Run` o pulsando `&lt;Ctrl&gt; + &lt;Enter&gt;`. Para ejecutar una línea del script sólo hace falta poner el cursor en la línea, no es necesario seleccionarla.

* El botón `Source` permite ejecutar todo el código contenido en el archivo de script.


---
# R Scripts: secciones del código
* Una característica interesante de los scripts en RStudio es la posibilidad de estructurar el código en secciones.
* Las secciones se pueden crear poniendo un comentario (`#`) con un nombre de sección y acabado en 4 guiones (`----`)

```
# &lt;NombreDeLaSección&gt; ----
```

* Podemos aprovechar y añadir un comentario para nuestra primera sección del código:

&lt;center&gt;
&lt;img src="img/Rstudio_section.png" alt="Sección código"/&gt;
&lt;/center&gt;

* Fíjense que dicha sección aparece en la parte inferior del editor como __navegación del código__.

---
class: inverse right middle title-slide2

# R Markdown

---
# R Markdown: ejemplo de documento
* La opción de archivo `R Markdown` corresponde a un formato (con extensión .Rmd) que nos ayuda a generar documentos y presentaciones de texto y código R, al mismo tiempo, a modo de informes o trabajos. 
* Markdown es el nombre que tiene un tipo de lenguaje que se utiliza para escribir de forma sencilla, fácilmente comprensible, un texto que luego se puede publicar con un formato determinado.

.pull-left2[
&lt;center&gt;
&lt;img src="img/R_markdown_report_pg1.png" width="75%" alt="Documento markdown pg. 1"/&gt;
&lt;/center&gt;

]

.pull-right2[
&lt;center&gt;
&lt;img src="img/R_markdown_report_pg2.png" width="75%" alt="Documento markdown pg. 2"/&gt;
&lt;/center&gt;

]

---
# R Markdown: crear un archivo Rmarkdown

* En el menú `File-&gt;New File` seleccionamos la opción `R Markdown` 
&lt;center&gt;
&lt;img src="img/Rstudio_new_Rmark01.png" width="75%" alt="Fichero markdown"/&gt;
&lt;/center&gt;

* Es posible que RStudio nos pregunte si queremos instalar unas librerías adicionales, en cuyo caso responderemos afirmativamente para instalar todo lo necesario.

---
class: small
# R Markdown: crear un archivo Rmarkdown

* Tenemos varias opciones a la hora de crear archivos `R Markdown`: documento o presentación.

.pull-left2[
&lt;center&gt;
&lt;img src="img/Rstudio_new_Rmark02.png" width="85%" alt="Documento markdown"/&gt;
&lt;/center&gt;

 
]

.pull-right2[
&lt;center&gt;
&lt;img src="img/Rstudio_new_Rmark03.png" width="85%" alt="Presentación markdown"/&gt;
&lt;/center&gt;


]

.vertical-center-100[
&lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; 
* En el caso de **Documento** podemos elegir si queremos que el archivo `R Markdown` genere un documento en formato PDF, HTML o Word/Libre Office(odt). **NOTA IMPORTANTE** Para generar un documento PDF es necesario tener instalado el MikTex(Win), MacTex(Mac) o LiveTex(Linux).

* En el caso de **Presentación** podemos elegir entre varios estilos de presentación, incluyendo formato Powerpoint o Presentación Libre Office.
]

---
# R Markdown: documento markdown
* Escogemos la opción de documento en formato `HTML` y RStudio genera una plantilla en formato .Rmd con un ejemplo de referencia que podemos modificar.
&lt;center&gt;
&lt;img src="img/Rstudio_markdown2.png" width="85%" alt="Plantilla markdown"/&gt;
&lt;/center&gt;


---
# R Markdown: ¿qué es markdown?
* Como hemos dicho, es un `lenguaje de marcado ligero` que facilita generar documentos para publicar (p.e., en formato XHTML o HTML válido) sin necesidad de escribir etiquetas o instrucciones de estilo). Es muy fácil de aprender. 

* Se puede encontrar una guía completa en RStudio en el menú `Help`
  + Hoja de referencia de R Markdown : `Help &gt; Cheatsheets &gt; R Markdown Cheat Sheet`
  + Guía de referencia R Markdown : `Help &gt; Cheatsheets &gt; R Markdown Reference Guide`
  
* La sintaxis del lenguaje Markdown tiene los siguientes elementos
  + Párrafos y saltos de línea
  + Encabezados
  + Listas
  + Códigos de bloque
  + Reglas horizontales
  + Links o enlaces
  + Imágenes



---
# R Markdown: sintaxis básica de markdown

* Encabezados

````markdown
  # Encabezado de primer nivel
  ## Encabezado de segundo nivel 
  ### Encabezado de tercer nivel
````

* Formateo de texto

````markdown
  *cursiva*  (ó _cursiva_)
  **negrita**  (ó  __negrita__)
  `code`
  superscript^2^ 
  subscript~2~
````

* Listas

```markdown
- Primer item
- Siguiente item
- Siguiente item
    - Primer sub-item
    - Otro sub-item
```

---
# R Markdown: sintaxis básica de markdown

* Listas enumeradas

```markdown
  1. Primer item
  2. Segundo item 
  3. Tercer item
```

* Enlaces e imágenes

```markdown
[Web de la universidad de La Laguna](http://www.ull.es)

![pie de página opcional](ruta/de/la/imagen.png)
```

* Tablas 

```markdown
Primer encabezado     | Segundo encabezado
--------------------- | ---------------------
Contenido de la celda | Contenido de la celda
Contenido de la celda | Contenido de la celda
```  

---
# R Markdown: bloques de código R (chunks)

* Si queremos incluir un código de R y el resultado de su ejecución lo podemos hacer de la siguiente forma
````
```{r}
x&lt;-c(12,8,16,6)
mean(x)
```
````

* El documento en markdown mostraría el resultado de la ejecución en R

```r
x&lt;-c(12,8,16,6)
print(mean(x))
```

```
[1] 10.5
```


---
# R Markdown: opciones de bloques de código

* La salida de un bloque de código R se puede personalizar especificando opciones en la cabecera `{}`:
  + echo = FALSE: el código se ejecuta pero no se visualiza. Lo que sí se muestra es el resultado de la ejecución.
  + eval = FALSE: el código no se ejecuta. 

.pull-left2[
````
```{r, echo=FALSE}
x&lt;-c(12,8,16,6)
mean(x)
```
````


```
[1] 10.5
```
]

.pull-right2[
````
```{r, echo=TRUE, eval=FALSE}
x&lt;-c(12,8,16,6)
mean(x)
```
````


```r
x&lt;-c(12,8,16,6)
print(mean(x))
```
]

.vertical-center-100[
&lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt;  
* Ver `R Markdown Reference Guide` en el menú `Help` para otras opciones de los bloques de código.
]
---
# R Markdown: ejercicio

* Se propone a los asistentes del curso elaborar un documento en markdown que contenga un título, nombre de su autor y la fecha de hoy en la cabecera YAML.

* Añadir una introducción que consista en una breve presentación del asistente (por ejemplo, se puede incluir qué titulación está cursando o ha terminado, la ocupación laboral si está trabajando, por qué está haciendo este curso, ...).

* En una sección de resultados del curso se pueden añadir diversos bloques de código de R con los ejemplos trabajados en esta sesión y en las de los próximas días. 

&lt;center&gt;
&lt;img src="img/gato.gif" width="30%" alt="Trabajando duro"/&gt;
&lt;/center&gt;


---
class: inverse, mline, center, middle

# Gracias


Esta presentación se ha creado con la librería [**xaringan**](https://github.com/yihui/xaringan),
utilizando [remark.js](https://remarkjs.com), [**knitr**](http://yihui.org/knitr), y [R Markdown](https://rmarkdown.rstudio.com).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
